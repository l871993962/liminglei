<?xml version="1.0" encoding="UTF-8"?>
<source code="REPTPL" name="财务报表模板" funcode="reportTemplate">
	<exp>
		<!-- filename:数据导出的XML文件名 -->
		<!--报表分组信息-->
		<data id="repGroup">
			<table-name>T_F_RC_REP_GROUP</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select distinct A.* from T_F_RC_REP_GROUP A START WITH C_GROUP_CODE in (select * from table(?)) CONNECT BY PRIOR A.C_GROUP_CODE_P = A.C_GROUP_CODE</sql>

				<cons>
					<cons_column ref-data="" ref-column="">
						<value>C_GROUP_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>			
		</data>	

		<!--报表模板基本信息-->
		<data id="repTpl">
			<table-name>T_F_RC_REP_TPL</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_F_RC_REP_TPL where C_REPORT_CODE in (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="" ref-column="">
						<value>C_REPORT_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>			
		</data>

    <!--报表模板表格信息-->
		<data id="tbList">
			<table-name>T_F_RC_REP_TBLIST</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_F_RC_REP_TBLIST where C_REPORT_CODE in (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="repTpl" ref-column="C_REPORT_CODE">
						<value>C_REPORT_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>			
		</data>

    <!--报表模板单元格信息-->
		<data id="tbCell">
			<table-name>T_F_RC_REP_TBCELL</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_F_RC_REP_TBCELL where C_REPORT_CODE in (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="repTpl" ref-column="C_REPORT_CODE">
						<value>C_REPORT_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>			
		</data>

	</exp>
	
	<!-- 数据导入配置 -->
	<imp>
		<!-- name对应的需要导入的文件名-->
		<outfile name="repGroup">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_GROUP_CODE</check_column>
		</outfile>

		<outfile name="repTpl">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_REPORT_CODE</check_column>
		</outfile>

		<outfile name="tbList">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_REPORT_CODE</check_column>
		</outfile>

		<outfile name="tbCell">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_REPORT_CODE</check_column>
			<check_column>N_ROW_NUM</check_column>
			<check_column>N_COL_NUM</check_column>
		</outfile>
	</imp>

</source>

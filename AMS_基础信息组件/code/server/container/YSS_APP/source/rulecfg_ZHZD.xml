<?xml version="1.0" encoding="UTF-8"?>
<source code="ZHZD" name="转换字典" funcode="zhzd" datasource="DB">
	<exp>
		<data id="group">
			<table-name>T_V_D_GROUP</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select distinct A.* from T_V_D_GROUP A START WITH C_GROUP_CODE in (select * from table(?)) CONNECT BY PRIOR A.C_GROUP_CODE_P = A.C_GROUP_CODE</sql>

				<cons>
					<cons_column ref-data="" ref-column="">
						<value>C_GROUP_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>			
		</data>	

		<data id="detail">
			<table-name>T_V_D_GROUP_DETAIL</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_V_D_GROUP_DETAIL where C_GROUP_CODE in (select * from table(?)) and C_S_CODE IN (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="" ref-column="">
						<value>C_GROUP_CODE</value>
					</cons_column>
					<cons_column ref-data="" ref-column="">
						<value>C_S_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>			
		</data>	

	</exp>
	
	<!-- 数据导入配置 -->
	<imp>
		<!-- name对应的需要导入的文件名 opertype为重复数据处理机制 cover覆盖原数据 rename重新赋值筛选字段数据-->
		<outfile name="group">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_GROUP_CODE</check_column>
			<check_column>C_GROUP_CODE_P</check_column>
		</outfile>

		<outfile name="detail">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_GROUP_CODE</check_column>
			<check_column>C_S_CODE</check_column>
		</outfile>
		
	</imp>

</source>

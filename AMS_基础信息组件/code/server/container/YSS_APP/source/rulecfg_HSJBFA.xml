<?xml version="1.0" encoding="UTF-8"?>
<source code="HSJBFA" name="核算级别方案" funcode="aoLevelDict" datasource="DB">
	<!-- 数据导出配置 -->
	<exp>
		<data id="ao">
			<table-name>T_E_EXEC_PLAN</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_E_EXEC_PLAN a where a.C_PLAN_TYPE = 'AO_LEVEL' and C_PLAN_CODE in (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="" ref-column="">
						<value>C_PLAN_CODE</value>
					</cons_column>					
				</cons>

			</sqlmapping>			
		</data>	
		
		<data id="dai">
			<table-name>T_P_AO_DAI</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_P_AO_DAI a where a.C_PLAN_CODE in (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="ao" ref-column="C_PLAN_CODE">
						<value>C_PLAN_CODE</value>
					</cons_column>					
				</cons>

			</sqlmapping>			
		</data>	
	</exp>
	
	<imp>
		<outfile name="ao">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_PLAN_CODE</check_column>		
		</outfile>
		<outfile name="dai">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_PLAN_CODE</check_column>
			<check_column>C_DAI_CODE</check_column>
		</outfile>
	</imp>

</source>

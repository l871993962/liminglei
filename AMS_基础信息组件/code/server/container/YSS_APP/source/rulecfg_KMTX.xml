<?xml version="1.0" encoding="UTF-8"?>
<source code="KMTX" name="科目体系" funcode="aoLevelDict" datasource="DB">
	<exp>
	<data id="ao">
			<table-name>T_E_EXEC_PLAN</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_E_EXEC_PLAN a where a.C_PLAN_TYPE = 'AO_LEVEL' and C_PLAN_CODE in (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="" ref-column="">
						<value>C_PLAN_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>			
		</data>	
		
		<data id="sekm">
			<table-name>T_F_SC_KM</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_F_SC_KM where C_PLAN_CODE in (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="ao" ref-column="C_PLAN_CODE">
						<value>C_PLAN_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>
		</data>	

		<data id="sekmrela">
			<table-name>T_F_SC_KM_RELA</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_F_SC_KM_RELA where C_PLAN_CODE in (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="sekm" ref-column="C_PLAN_CODE">
						<value>C_PLAN_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>			
		</data>	
		
		<data id="kmaux">
			<table-name>T_F_SC_KM_AUX</table-name>
			<!-- 数据查询SQL -->
			<sqlmapping>
				<!--查询表-->
				<sql>select * from T_F_SC_KM_AUX where C_PLAN_CODE in (select * from table(?))</sql>

				<cons>
					<cons_column ref-data="" ref-column="C_PLAN_CODE">
						<value>C_PLAN_CODE</value>
					</cons_column>
				</cons>

			</sqlmapping>			
		</data>	

	</exp>
	
	<!-- 数据导入配置 -->
	<imp>
		<outfile name="ao">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_PLAN_CODE</check_column>
		</outfile>
		<!-- name对应的需要导入的文件名 opertype为重复数据处理机制 cover覆盖原数据 rename重新赋值筛选字段数据-->
		<outfile name="sekm">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_KM_CODE</check_column>
			<check_column>C_PLAN_CODE</check_column>
		</outfile>

		<outfile name="sekmrela">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_PLAN_CODE</check_column>
		</outfile>
		
		<outfile name="kmaux">
			<!-- 在保存数据前需要检测数据是否已经存在 column为筛选条件 -->
			<check_column>C_PLAN_CODE</check_column>
		</outfile>
		
	</imp>

</source>
